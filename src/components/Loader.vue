<template>
	<div id="loader">
		<svg width="17%" viewBox="0 0 283.59 241.98">
			<defs>
			<filter id="blur">
					<feGaussianBlur in="SourceGraphic" stdDeviation="0" />
			</filter>
			<linearGradient id="Dégradé_sans_nom_61" x1="212.62" y1="121.59" x2="70.97" y2="121.59" gradientUnits="userSpaceOnUse">
				<stop offset="0" stop-color="#f88429"/>
				<stop offset="0.26" stop-color="#f88429"/>
				<stop offset="0.5" stop-color="#f88429"/>
				<stop offset="0.68" stop-color="#f88429"/>
				<stop offset="0.93" stop-color="#30073a"/>
				<stop offset="1" stop-color="#24003b"/>
			</linearGradient>
			<linearGradient id="Dégradé_sans_nom_88" x1="160.11" y1="125.09" x2="71.97" y2="125.09" gradientUnits="userSpaceOnUse">
				<stop offset="0" stop-color="#f88429"/>
				<stop offset="0.26" stop-color="#f88429"/>
				<stop offset="0.58" stop-color="#f88429"/>
				<stop offset="0.78" stop-color="#30073a"/>
				<stop offset="1" stop-color="#24003b"/>
			</linearGradient>
			<linearGradient id="Dégradé_sans_nom_12" x1="-0.63" y1="129.94" x2="58.65" y2="129.94" gradientUnits="userSpaceOnUse">
				<stop offset="0" stop-color="#49d6a7"/>
				<stop offset="0.49" stop-color="#49d6a7"/>
				<stop offset="1" stop-color="#24003b"/>
			</linearGradient>
			<linearGradient id="Dégradé_sans_nom_12-2" x1="284.22" y1="129.94" x2="224.94" y2="129.94" xlink:href="#Dégradé_sans_nom_12"/>
			<linearGradient id="Dégradé_sans_nom_37" x1="177.7" y1="101.14" x2="210.95" y2="158.73" gradientUnits="userSpaceOnUse">
				<stop offset="0" stop-color="#74649a"/>
				<stop offset="0.58" stop-color="#24003b"/>
				<stop offset="1" stop-color="#75649b"/>
			</linearGradient>
			</defs>
			<path class="cls-1" d="M140.57,1.21H78.26A6.27,6.27,0,0,0,72,7.46v70.3c0,3.45.13,14.59,3.6,14.59l18.5-2.79c3.47,0,1.33-8.35,1.33-11.81l.52-44.18a6.27,6.27,0,0,1,6.29-6.25h38.36c39.9,0,44.8,23.06,44.8,89.87V126c0,66.81-4.9,89.87-44.8,89.87H105.21a6.27,6.27,0,0,1-6.29-6.25l-.11-44.71c0-3.45,6-13.47,2.57-13.47l-23.93,5.35c-3.47,0-5.48,11-5.48,14.41v64.55A6.27,6.27,0,0,0,78.26,242h62.31c62.65,0,71-36.29,71-113.95V115.15C211.62,37.49,203.22,1.21,140.57,1.21Z"/>
			<path class="cls-3" d="M75.25,87.78c.14,2.39.63,6,3.68,6.3s6.72-3.62,8.69-2.15a1.49,1.49,0,0,0,1.51,0,13.16,13.16,0,0,1,4.62-1.37,5.86,5.86,0,0,0,1.77-.33c1.21-.61,1.44-1.48,1.63-2.81a6.46,6.46,0,0,0-3.22-7c-1.65-1-3.16,1.58-1.51,2.59,1.28.78,1.85,1.48,1.82,2.88s-.21,1.31-1.51,1.71a27.64,27.64,0,0,0-5.11,1.7h1.51A3.16,3.16,0,0,0,86,88.7c-2.6.47-7.45,3.73-7.73-.91-.12-1.92-3.12-1.93-3,0Z"/>
			<path class="cls-3"  d="M77.1,172.2a54.5,54.5,0,0,1-.37-9.84c.13-4.9,5.57-6.16,9.85-6.13a20.14,20.14,0,0,0,7.26-1.33,19.36,19.36,0,0,1,5.59-1.39c1.75-.11,1.82.17,3.43-.77l-2.26-1.3c-.14,3.5-2,6.06-2.75,9.36a14.41,14.41,0,0,1-.29,2.12c.65-1.17-.86.33-1.08.44-.74.39-1.18,1-2,1.25-1.87.48-1.08,3.37.8,2.89a7.83,7.83,0,0,0,5.29-4.9c1.26-3.63,2.9-7.23,3.06-11.16a1.51,1.51,0,0,0-2.26-1.3c-1,.58-4.65.61-5.91,1-2.05.56-3.91,1.66-6,2s-3.91-.3-6,.22a29.92,29.92,0,0,0-5.87,2c-3.26,1.64-3.65,3-3.78,6.46A58.08,58.08,0,0,0,74.21,173c.3,1.9,3.19,1.09,2.89-.8Z"/>
			<path id="balise-left" class="cls-3 cls-4" d="M44.52,178.93a11,11,0,0,1-8.54-4L2.44,133.83a4.75,4.75,0,0,1,0-6L37.2,85a11,11,0,0,1,15.61-1.52,11.17,11.17,0,0,1,1.25,15.59l-25.74,31.7a0,0,0,0,0,0,0l24.5,30a11.14,11.14,0,0,1-.92,15.29A11,11,0,0,1,44.52,178.93Z"/>
			<path id="balise-right" class="cls-3 cls-5" d="M239.07,80.94a11,11,0,0,1,8.54,4L281.15,126a4.75,4.75,0,0,1,0,6l-34.78,42.82a11,11,0,0,1-15.61,1.52,11.17,11.17,0,0,1-1.25-15.59l25.74-31.7a0,0,0,0,0,0,0l-24.5-30a11.14,11.14,0,0,1,.92-15.29A11,11,0,0,1,239.07,80.94Z"/>
			<path id="slash" class="cls-6" d="M169.51,174.63,210.6,82.87a2.66,2.66,0,0,1,2.59-1.56l3.68.22a2.64,2.64,0,0,1,2.27,3.71L178,177a2.66,2.66,0,0,1-2.59,1.56l-3.68-.22A2.64,2.64,0,0,1,169.51,174.63Z"/>
			<path id="x" class="cls-2" d="M130.78,126a0,0,0,0,1,0,0l25.74-31.7a11.17,11.17,0,0,0-1.25-15.59,11,11,0,0,0-15.61,1.52L116,109.25,92.42,80.16a11,11,0,0,0-15.61-1.52,11.17,11.17,0,0,0-1.25,15.59l25.74,31.7a0,0,0,0,1,0,0L76.8,156a11.14,11.14,0,0,0,.92,15.29A11,11,0,0,0,93.64,170L116,142.63,138.44,170a11,11,0,0,0,15.92,1.2,11.14,11.14,0,0,0,.92-15.29Z"/>
		</svg>
	</div>
</template>

<script>
import anime from 'animejs';

export default {
	mounted() {
		const loading = anime.timeline({
			loop: true,
		});

		loading
			.add({
				targets: '#slash',
				opacity: 0,
				translateX: -70,
				rotateZ: -20,
				offset: '-=400',
			})
			.add({
				targets: '#balise-left',
				translateX: 100,
				duration: 400,
				offset: '-=400',
			})
			.add({
				targets: '#balise-right',
				translateX: -150,
				duration: 400,
				offset: '-=400',
			})
			.add({
				targets: 'feGaussianBlur',
				stdDeviation: 0.1,
				duration: 700,
			})
			.add({
				targets: '#x',
				rotateZ: 360,
				easing: 'easeOutSine',
				duration: 700,
				offset: '-=700',
			})
			.add({
				targets: ['#balise-left', '#balise-right'],
				opacity: 1,
				easing: 'easeOutSine',
				offset: '-=600',
			})
			.add({
				targets: ['#balise-left', '#balise-right'],
				translateX: 0,
				easing: 'easeOutSine',
				offset: '-=1000',
			})
			.add({
				targets: '#x',
				rotateZ: 720,
				easing: 'easeOutSine',
				duration: 700,
			})
			.add({
				targets: '#slash',
				opacity: 1,
				translateX: 0,
				rotateZ: 0,
				easing: 'easeOutSine',
				duration: 500,
				offset: '-=600',
				elasticity: 100,
			})
			.add({
				targets: ['#slash', '#balise-left', '#balise-right'],
				opacity: 0,
				duration: 500,
				easing: 'easeOutSine',
			});
	},
};
</script>

<style scoped>
.cls-1,
.cls-2,
.cls-3 {
	fill: #24003b;
}
.cls-1,
.cls-2,
.cls-6 {
	stroke-miterlimit: 10;
}
.cls-1,
.cls-2,
.cls-4,
.cls-5 {
	stroke-width: 2px;
}
.cls-1 {
	stroke: url(#Dégradé_sans_nom_61);
}
.cls-2 {
	stroke: url(#Dégradé_sans_nom_88);
}
.cls-3 {
	opacity: 0;
	transform: translateY(-5px);
}
.cls-4 {
	stroke: url(#Dégradé_sans_nom_12);
}
.cls-5 {
	stroke: url(#Dégradé_sans_nom_12-2);
}
.cls-6 {
	fill: #8b73cf;
	stroke-width: 0.5px;
	stroke: url(#Dégradé_sans_nom_37);
}
#x {
	transform-origin: 120px 120px;
	filter: url(#blur);
}
#balise-left,
#balise-right {
	opacity: 0;
}
#slash {
	transform-origin: 170px 120px;
	opacity: 0;
	transform: translateX(-70px) rotateZ(-20deg);
}
#loader {
	z-index: 1;
	position: absolute;
	top: 0;
	left: 0;
	width: 100vw;
	height: 100vh;
	display: flex;
	justify-content: center;
	align-items: center;
}
</style>
